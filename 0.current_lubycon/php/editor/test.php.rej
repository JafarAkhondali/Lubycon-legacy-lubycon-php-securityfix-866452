diff a/0.current_lubycon/php/editor/test.php b/0.current_lubycon/php/editor/test.php	(rejected hunks)
@@ -3,39 +3,70 @@
     $set_date = date("YmdHis");
     $con_cate = $_POST['contents_cate_name'];
     $user_name = 'daniel_zepp';
-    $uploaddir = '../../../../Lubycon_Contents/contents/' . $con_cate . "/" . $user_name . $set_date . "/" ;
-    $upload_basename = basename($_FILES['upload_file']['name']);
-    $uploadfile = $uploaddir . $upload_basename;
+    
+    $upload_dir= '../../../../Lubycon_Contents/contents/' . $con_cate . '/' . $user_name . $set_date . '/' ;
+    $blacklist = array('jpg','jpeg','png','psd','gif','bmp','pdd','tif','raw','ai','esp','svg','svgz','iff','fpx','frm','pcx','pct','pic','pxr','sct','tga','vda','icb','vst','alz','zip','rar','jar','7z','hwp','txt','doc','xls','xlsx','docx','pptx','pdf','ppt','me');  
+    $limit_size = '3000000'; // byte
 
-    if( mkdir($uploaddir,0070) )
+    if(1) //������ѰŶ��
     {
-        //echo "directory is making<br/>";
-        if (move_uploaded_file($_FILES['upload_file']['tmp_name'], $uploadfile)) 
+        for($i=0; $i<count($_FILES['upload_file']['name']); $i++) 
+        {
+            $filename = $_FILES['upload_file']['name'][$i]; // �������� �����̸�
+            $ext = substr(strrchr($filename, '.'), 1); // Ȯ���� ����
+            if ( !in_array($ext, $blacklist) )  // Ȯ���� �˻�
+            {
+                echo $filename.' not allow<br/>';
+                return false;
+            }
+            $filesize_array[$i] = $_FILES['upload_file']['size'][$i]; // �� ���ϻ����� ũ�� �迭�� Ǫ��
+        }
+        if( !array_sum($filesize_array) >= $limit_size ) // ����ũ�� �˻�
         {
-            //echo "zip file upload succece<br/>";
-            echo "file name : " . $upload_basename . "<br/>";
-            echo "contents category : " . $con_cate . "<br/>";
-            echo "upload date : " . $set_date . " (year-month-day-hour-minite-second)<br/>";
-            echo "upload path : localhost/contensts_data/". $con_cate . "/" . $set_date . "/" . $upload_basename;
-        } else {
-            print "zip file upload failed<br/>";
+            echo array_sum($filesize_array) . 'beyond limite size';
+            return false;
         }
-    }else
+        else
+        {
+            if( mkdir( $upload_dir , 0777) ) // ���丮 ����
+            {
+                foreach ($_FILES["upload_file"]["error"] as $key => $error)  // ���� ������ŭ foreach �ϸ� ���� ���¸޼��� 
+                {
+                    if ($error == UPLOAD_ERR_OK) //�̻���ٸ�
+                    {
+                        $tmp_name = $_FILES["upload_file"]["tmp_name"][$key];
+                        $name = $_FILES["upload_file"]["name"][$key];
+                        move_uploaded_file($tmp_name, "temp/$name"); // ���� �̵�
+                        $filepath_array[$key] = "temp/$name"; // ���� ���ε�� ���
+                    }
+                }
+            }
+        }
+    }
+
+    require_once "../class/zipfile.php"; // Ŭ�������� �����̾�
+    $zipper = new Zipper; //���ۻ���
+    $zipper->add($filepath_array); //�����߰�
+    $zipper->store($upload_dir.$user_name.'_luby.zip'); //����� zip���� ���
+    echo $upload_dir.$user_name.'_luby.zip';
+
+    foreach ($_FILES["upload_file"]["error"] as $key => $error)  // ���� ������ŭ foreach �ϸ� ���� ���¸޼��� 
     {
-        echo "make directory fail";
-    };
+        unlink( $filepath_array[$key] ); //�ӽ����� ����
+    }
+
     echo "<br/><br/>-------------zip file upload--------------<br/>";
 
     echo "<br/><br/>-------------crop thumbnail image--------------<br/>";
 
     $oldfile = $_POST['croppicurl']; // temp file
-    $newfile = $uploaddir.'profile.jpg'; // copyed file
+    $newfile = $upload_dir.'profile.jpg'; // copyed file
 
     if(file_exists($oldfile)) {
         if(!copy($oldfile, $newfile)) {
             echo "file";
         } else if(file_exists($newfile)) {
-            echo $newfile . "<br/>";
+            echo '<br/>' . $newfile . "<br/>"; //uploaded file path
         }
     }
 
